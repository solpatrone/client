{"ast":null,"code":"import _slicedToArray from\"/Users/erikamasini/henry/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getRestoByName,getRestos}from'../../actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Searchbar(){var resto=useSelector(function(state){return state.allRestaurants;});var restoName=resto.map(function(r){return r.name;});var dispatch=useDispatch();//   // useEffect(()=>{\n//   dispatch(getRestos())\n// },[])\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),restaurantName=_useState2[0],setRestaurantName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),suggestion=_useState4[0],setSuggestion=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];function handleInputChange(e){e.preventDefault();setRestaurantName(e.target.value);searchMatch(e.target.value);if(e.target.value===''){dispatch(getRestos());}}function handleSubmit(e){e.preventDefault();dispatch(getRestoByName(restaurantName));// action getRestaurant(restaurantName)\n}function searchMatch(restaurantName){if(!restaurantName){setSuggestion([]);setError(false);}else{var matches=restoName.filter(function(r){return r.toLowerCase().includes(restaurantName.toLowerCase());});if(matches.length){setSuggestion(matches);setError(false);}else{setError(true);}}}var selectElementHandler=function selectElementHandler(restaurant){setRestaurantName(restaurant);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:restaurantName,placeholder:\"Nombre del Restaurant...\",onChange:function onChange(e){return handleInputChange(e);}}),!error&&suggestion?suggestion.map(function(el,index){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return selectElementHandler(el);},children:el},index);}):/*#__PURE__*/_jsx(\"div\",{children:\"Restaurant no disponible\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(e){return handleSubmit(e);},disabled:error,children:\"Buscar\"})]});}export default Searchbar;","map":{"version":3,"sources":["/Users/erikamasini/henry/client/src/components/SearchBar/Searchbar.jsx"],"names":["React","useState","useDispatch","useSelector","getRestoByName","getRestos","Searchbar","resto","state","allRestaurants","restoName","map","r","name","dispatch","restaurantName","setRestaurantName","suggestion","setSuggestion","error","setError","handleInputChange","e","preventDefault","target","value","searchMatch","handleSubmit","matches","filter","toLowerCase","includes","length","selectElementHandler","restaurant","el","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {getRestoByName, getRestos} from '../../actions'\n\nfunction Searchbar() {\n  const resto = useSelector((state )=> state.allRestaurants);\n  const restoName = resto.map(r => r.name)\n\n\n  const dispatch = useDispatch();\n\n//   // useEffect(()=>{\n  //   dispatch(getRestos())\n  // },[])\n\n  const [restaurantName, setRestaurantName] = useState(\"\");\n  const [suggestion, setSuggestion] = useState([]);\n  const [error, setError] = useState(false);\n\n\n \n  function handleInputChange(e) {\n    e.preventDefault();\n    setRestaurantName(e.target.value)\n    searchMatch(e.target.value);\n    if (e.target.value === '') {\n      dispatch(getRestos())\n  }\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    dispatch(getRestoByName(restaurantName)); // action getRestaurant(restaurantName)\n  }\n\n  function searchMatch(restaurantName) {\n    if (!restaurantName) {\n      setSuggestion([]);\n      setError(false)\n    } else {\n      let matches = restoName.filter(\n        (r) => r.toLowerCase().includes(restaurantName.toLowerCase())      \n        );\n      if (matches.length) {\n        setSuggestion(matches);\n        setError(false);\n      } else {\n        setError(true);\n      }\n    }\n  }\n  const selectElementHandler = (restaurant) => {\n    setRestaurantName(restaurant);\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={restaurantName}\n        placeholder=\"Nombre del Restaurant...\"\n        onChange={(e) => handleInputChange(e)}\n      />\n      {!error && suggestion ? (\n        suggestion.map((el, index) => {\n          return (\n            <div key={index} onClick={() => selectElementHandler(el)}>\n              {el}\n            </div>\n          );\n        })\n      ) : (\n        <div>Restaurant no disponible</div>\n      )}\n      <button type=\"submit\" onClick={(e) => handleSubmit(e)} disabled={error}>\n        Buscar\n      </button>\n    </div>\n  );\n}\n\nexport default Searchbar;\n\n"]},"metadata":{},"sourceType":"module"}