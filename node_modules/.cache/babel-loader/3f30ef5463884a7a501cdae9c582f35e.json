{"ast":null,"code":"import _defineProperty from\"/Users/erikamasini/henry/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/erikamasini/henry/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/erikamasini/henry/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{GoogleLogin}from\"react-google-login\";import{useDispatch,useSelector}from\"react-redux\";import Cookies from\"universal-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var history=useHistory();var owner=useSelector(function(state){return state.owners;});var client=useSelector(function(state){return state.clients;});var allUsers=owner.concat(client);console.log(client);var _React$useState=React.useState({user:\"\",password:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),input=_React$useState2[0],setInput=_React$useState2[1];var responseGoogle=function responseGoogle(response){console.log(response);};function handleChange(e){setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},e.target.name,e.target.value)));console.log(input);}function handleSubmit(e){e.preventDefault();var userMatch=allUsers.find(function(e){return e.email===input.user;});if(!userMatch){alert(\"mail incorrecto\");}if(userMatch.password!==input.password){alert(\"password incorrecto\");}else{var cookies=new Cookies();cookies.set(\"user\",input.user,{path:\"/\"});cookies.set(\"password\",input.password,{path:\"/\"});history.push(\"/home\");}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"Usuario: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input.user,name:\"user\",placeholder:\"Ingrese su usuario\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"Contrase\\xF1a: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:input.password,name:\"password\",placeholder:\"Ingrese su contrase\\xF1a\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Iniciar ses\\xEDon\"})]}),/*#__PURE__*/_jsx(GoogleLogin,{clientId:\"573681437399-riki1t5m65bqd6q5h98o2r0f9qnolp8k.apps.googleusercontent.com\",buttonText:\"Iniciar sesi\\xF3n\",onSuccess:responseGoogle,onFailure:responseGoogle,cookiePolicy:\"single_host_origin\"})]});}","map":{"version":3,"sources":["/Users/erikamasini/henry/client/src/components/Login/Login.jsx"],"names":["React","useState","useHistory","GoogleLogin","useDispatch","useSelector","Cookies","Login","history","owner","state","owners","client","clients","allUsers","concat","console","log","user","password","input","setInput","responseGoogle","response","handleChange","e","target","name","value","handleSubmit","preventDefault","userMatch","find","email","alert","cookies","set","path","push"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport Cookies from \"universal-cookie\";\n\nexport default function Login() {\n  const history = useHistory();\n\n  const owner = useSelector((state) => state.owners);\n  const client = useSelector((state) => state.clients);\n\n  const allUsers = owner.concat(client);\n  console.log(client);\n\n  const [input, setInput] = React.useState({\n    user: \"\",\n    password: \"\",\n  });\n\n  const responseGoogle = (response) => {\n    console.log(response);\n  };\n\n  function handleChange(e) {\n    setInput({\n      ...input,\n      [e.target.name]: e.target.value,\n    });\n    console.log(input);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    let userMatch = allUsers.find((e) => e.email === input.user);\n    if (!userMatch) {\n      alert(\"mail incorrecto\");\n    }\n    if (userMatch.password !== input.password) {\n      alert(\"password incorrecto\");\n    } else {\n      const cookies = new Cookies();\n      cookies.set(\"user\", input.user, { path: \"/\" });\n      cookies.set(\"password\", input.password, { path: \"/\" });\n      history.push(\"/home\");\n    }\n  }\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <div>Usuario: </div>\n          <input\n            type=\"text\"\n            value={input.user}\n            name=\"user\"\n            placeholder=\"Ingrese su usuario\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div>\n          <div>Contraseña: </div>\n          <input\n            type=\"password\"\n            value={input.password}\n            name=\"password\"\n            placeholder=\"Ingrese su contraseña\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n\n        <button type=\"submit\">Iniciar sesíon</button>\n      </form>\n\n      <GoogleLogin\n        clientId=\"573681437399-riki1t5m65bqd6q5h98o2r0f9qnolp8k.apps.googleusercontent.com\"\n        buttonText=\"Iniciar sesión\"\n        onSuccess={responseGoogle}\n        onFailure={responseGoogle}\n        cookiePolicy={\"single_host_origin\"}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}