{"ast":null,"code":"import _defineProperty from\"/Users/erikamasini/henry/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/erikamasini/henry/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/erikamasini/henry/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDispatch}from'react-redux';import React,{useState}from'react';import{createClient}from'../../actions';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterUser(){var history=useHistory();var dispatch=useDispatch();var _useState=useState({name:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState({hasErrors:true}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSubmit=_useState6[0],setIsSubmit=_useState6[1];function validate(input){var errors={hasErrors:false};console.log(\"input\",input);if(!input.name){errors.name=\"El nombre es requerido\";errors.hasErrors=true;}else if(!/^[a-zA-Z\\s]{5,20}$/.test(input.name)){errors.name=\"El nombre debe ser letras entre 5 y 20 caracteres\";errors.hasErrors=true;}if(!input.email){errors.email=\"El email es requerido\";errors.hasErrors=true;}else if(!/(\\W|^)[\\w.]{0,30}@(yahoo|hotmail|gmail)\\.com(\\W|$)/.test(input.email)){errors.email=\"El email debe ser una direcci\\xF3n v\\xE1lida\";errors.hasErrors=true;}if(!input.password){errors.password=\"La contrase\\xF1a es requerida\";errors.hasErrors=true;}else if(!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,15}$/gm.test(input.password)){errors.password=\"La contrseña debe incluir: \\n Entre 8 y 15 carateres \\n Mayúsculas y minúsculas \\n Números\";errors.hasErrors=true;}return errors;}var onlyLetters=function onlyLetters(e){if(!/[a-zA-Z\\s]/.test(e.key)){e.preventDefault();}};var handleChange=function handleChange(e){e.preventDefault();setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},e.target.name,e.target.value)));setErrors(validate(_objectSpread(_objectSpread({},input),{},_defineProperty({},e.target.name,e.target.value))));};var handleSubmit=function handleSubmit(e){e.preventDefault();if(!validate(input).hasErrors){dispatch(createClient(input));setIsSubmit(false);setInput({name:'',email:'',password:''});history.push(\"/Login\");}};return isSubmit?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Se ha registrado correctamente\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return history.push(\"/Login\");},children:\"Volver a Home\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Registrate!\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre de usuario \"}),/*#__PURE__*/_jsx(\"input\",{type:'text',name:'name',onKeyPress:onlyLetters,value:input.name,autoComplete:\"off\",placeholder:\"Ingrese su nombre de usuario\",onChange:function onChange(e){return handleChange(e);}}),errors.name&&/*#__PURE__*/_jsx(\"p\",{children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"E-mail \"}),/*#__PURE__*/_jsx(\"input\",{type:'text',name:'email',placeholder:\"Ingrese su e-mail\",value:input.email,autoComplete:\"off\",onChange:function onChange(e){return handleChange(e);}}),errors.email&&/*#__PURE__*/_jsx(\"p\",{children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Contrase\\xF1a \"}),/*#__PURE__*/_jsx(\"input\",{type:'password',name:'password',value:input.password,placeholder:\"Ingrese su contrase\\xF1a\",onChange:function onChange(e){return handleChange(e);}}),errors.password&&/*#__PURE__*/_jsx(\"p\",{children:errors.password})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:'submit',disabled:errors.hasErrors,onSubmit:function onSubmit(e){return handleSubmit(e);},children:\"Registrate\"})})]})]});}","map":{"version":3,"sources":["/Users/erikamasini/henry/client/src/components/RegisterClient/Registerclient.jsx"],"names":["useDispatch","React","useState","createClient","useHistory","RegisterUser","history","dispatch","name","email","password","input","setInput","hasErrors","errors","setErrors","isSubmit","setIsSubmit","validate","console","log","test","onlyLetters","e","key","preventDefault","handleChange","target","value","handleSubmit","push"],"mappings":"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","sourcesContent":["import { useDispatch } from 'react-redux';\nimport React, { useState } from 'react';\nimport { createClient } from '../../actions';\nimport { useHistory } from \"react-router-dom\";\n\nexport default function RegisterUser() {\n    const history = useHistory();\n    let dispatch = useDispatch();   \n\n    let [input, setInput] = useState({\n        name: '',\n        email: '',\n        password: ''\n    })\n\n    \n    let [errors, setErrors] = useState({ hasErrors: true });\n    \n    const [isSubmit, setIsSubmit] = useState(false);\n\n    function validate(input) {\n        let errors = { hasErrors: false }\n        console.log(\"input\", input)\n\n        if (!input.name) {\n            errors.name = `El nombre es requerido`;\n            errors.hasErrors = true;\n        } else if (!/^[a-zA-Z\\s]{5,20}$/.test(input.name)) {\n            errors.name = `El nombre debe ser letras entre 5 y 20 caracteres`;\n            errors.hasErrors = true;\n        }\n\n        if (!input.email) {\n            errors.email = `El email es requerido`;\n            errors.hasErrors = true;\n        } else if (!/(\\W|^)[\\w.]{0,30}@(yahoo|hotmail|gmail)\\.com(\\W|$)/.test(input.email)) {\n            errors.email = `El email debe ser una dirección válida`;\n            errors.hasErrors = true;\n        }\n\n        if (!input.password) {\n            errors.password = `La contraseña es requerida`;\n            errors.hasErrors = true;\n        } else if (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,15}$/gm.test(input.password)) {\n            errors.password = \"La contrseña debe incluir: \\n Entre 8 y 15 carateres \\n Mayúsculas y minúsculas \\n Números\";\n            errors.hasErrors = true;\n        }\n\n        return errors;\n\n    }\n\n    let onlyLetters = (e) => {\n        if (!/[a-zA-Z\\s]/.test(e.key)) {\n            e.preventDefault();\n        }\n    }\n\n    let handleChange = e => {\n\n        e.preventDefault();\n        setInput({ ...input, [e.target.name]: e.target.value })\n        setErrors(validate({ ...input, [e.target.name]: e.target.value }))\n    }\n\n    let handleSubmit = e => {\n        e.preventDefault()\n        if (!validate(input).hasErrors) {\n            dispatch(createClient(input))\n            setIsSubmit(false);\n            setInput({\n                name: '',\n                email: '',\n                password: ''\n            })\n            history.push(\"/Login\")\n        }\n    }\n\n    return isSubmit ? (<div>\n        <h3>Se ha registrado correctamente</h3>\n        <button onClick={() => history.push(\"/Login\")}>Volver a Home</button>\n    </div>) : (\n        <div>\n            <div>\n                <h2>Registrate!</h2>\n            </div>\n            <br/>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label>Nombre de usuario </label>\n                    <input\n                        type={'text'}\n                        name={'name'}\n                        onKeyPress={onlyLetters}\n                        value={input.name}\n                        autoComplete=\"off\"\n                        placeholder=\"Ingrese su nombre de usuario\"\n                        onChange={e => handleChange(e)} />\n                    {errors.name && (<p>{errors.name}</p>)}\n                </div>\n                <div>\n                <br/>\n                    <label>E-mail </label>\n                    <input\n                        type={'text'}\n                        name={'email'}\n                        placeholder=\"Ingrese su e-mail\"\n                        value={input.email}\n                        autoComplete=\"off\"\n                        onChange={e => handleChange(e)} />\n                    {errors.email && (<p>{errors.email}</p>)}\n                </div>\n                <div>\n                <br/>\n                    <label>Contraseña </label>\n                    <input\n                        type={'password'}\n                        name={'password'}\n                        value={input.password}\n                        placeholder=\"Ingrese su contraseña\"\n                        onChange={e => handleChange(e)} />\n                    {errors.password && (<p>{errors.password}</p>)}\n                </div>\n                <br/>\n                <div>\n                    <button\n                        type={'submit'}\n                        disabled={errors.hasErrors}\n                        onSubmit={e => handleSubmit(e)}>Registrate</button>\n                </div>\n            </form>\n        </div>\n\n    )\n\n}\n\n\n"]},"metadata":{},"sourceType":"module"}